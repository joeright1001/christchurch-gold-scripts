/* Force consistent sizing for filtered products */
.w-dyn-list .w-dyn-items.w-row {
  display: flex !important;
  flex-wrap: wrap !important;
  justify-content: flex-start !important;
  width: 100% !important;
  text-align: left !important;
}

/* Fix for phantom elements in Webflow flex containers */
.w-dyn-list .w-dyn-items.w-row::before,
.w-dyn-list .w-dyn-items.w-row::after {
  display: none !important;
  content: none !important;
}

.w-dyn-list .w-dyn-items.w-row .w-dyn-item.w-col.w-col-4 {
  /* Fluid layout settings */
  width: 32.3% !important;
  max-width: none !important;
  min-width: 420px !important;
  flex-grow: 0 !important;
  flex-basis: 32.3% !important;
  
  box-sizing: border-box !important;
  margin-left: 0.5% !important;
  margin-right: 0.5% !important;
  margin-bottom: 10px !important;
}

/* Responsive adjustments */
@media (max-width: 991px) {
  .w-dyn-list .w-dyn-items.w-row .w-dyn-item.w-col.w-col-4 {
    width: 49% !important;
    flex: 0 0 49% !important;
  }
}

@media (max-width: 767px) {
  .w-dyn-list .w-dyn-items.w-row .w-dyn-item.w-col.w-col-4 {
    width: 100% !important;
    flex: 0 0 100% !important;
  }
}

/* ==================== PERFORMANCE FIX: CSS-BASED FILTERING ==================== */
/* This replaces expensive DOM cloning with fast CSS class toggles */
/* Increased specificity to ensure filtered items are hidden and don't affect layout */
.w-dyn-list .w-dyn-items .w-dyn-item.filter-hidden,
.w-dyn-list .w-dyn-items.w-row .w-dyn-item.filter-hidden,
.w-dyn-list .w-dyn-items.w-row .w-dyn-item.w-col.filter-hidden {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
}
